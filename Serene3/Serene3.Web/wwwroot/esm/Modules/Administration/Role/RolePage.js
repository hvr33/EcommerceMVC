import{a as D,b as x}from"../../../_chunks/chunk-YOZIQZCU.js";import{d as R,e as g,f as y,g as o,h as c,o as p}from"../../../_chunks/chunk-L3UZSTF3.js";import{c as i,i as P}from"../../../_chunks/chunk-FHHVO6Y3.js";import"../../../_chunks/chunk-TA7MABRS.js";import{c as t,f as m,g as a}from"../../../_chunks/chunk-RKUHNEJF.js";var k=m(a(),1);var v=m(a(),1);var w=m(a(),1);var e=m(a(),1);async function I(f){let r,l=(await y.List({RoleID:f.roleID})).Entities,B=await(0,e.getRemoteDataAsync)(D.Administration.ImplicitPermissions);new e.Dialog({dialogClass:"s-RolePermissionDialog",title:(0,e.stringFormat)(i.DialogTitle,f.roleName),buttons:[(0,e.okDialogButton)({click:t(async()=>{await y.Update({RoleID:f.roleID,Permissions:r.valueAsStrings}),(0,e.notifySuccess)(i.SaveSuccess)},"click")}),(0,e.cancelDialogButton)()],element:t(E=>E.appendChild(P(x,{ref:N=>r=N,showRevoke:!1,value:l,implicitPermissions:B})),"element")})}t(I,"RolePermissionDialog");var h="edit-permissions",S,b,s=class s extends(b=w.EntityDialog,S=Symbol.typeInfo,b){constructor(){super(...arguments);this.form=new g(this.idPrefix)}getFormKey(){return g.formKey}getIdProperty(){return o.idProperty}getLocalTextPrefix(){return o.localTextPrefix}getNameProperty(){return o.nameProperty}getService(){return c.baseUrl}getToolbarButtons(){let l=super.getToolbarButtons();return l.push({title:i.EditButton,cssClass:h,icon:"fa-lock text-green",onClick:t(()=>{I({roleID:this.entity.RoleId,roleName:this.entity.RoleName})},"onClick")}),l}updateInterface(){super.updateInterface(),this.toolbar.findButton(h).toggleClass("disabled",this.isNewOrDeleted())}};t(s,"RoleDialog"),s[S]=s.registerClass(p);var d=s;var C,T,n=class n extends(T=v.EntityGrid,C=Symbol.typeInfo,T){getColumnsKey(){return R.columnsKey}getDialogType(){return d}getIdProperty(){return o.idProperty}getLocalTextPrefix(){return o.localTextPrefix}getService(){return c.baseUrl}constructor(r){super(r)}getDefaultSortBy(){return[o.Fields.RoleName]}};t(n,"RoleGrid"),n[C]=n.registerClass(p);var u=n;var G=t(()=>(0,k.gridPageInit)(u),"default");export{G as default};
//# sourceMappingURL=RolePage.js.map
